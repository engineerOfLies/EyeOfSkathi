{
    "name":"Munnin Colony Lower Deck",
    "enter":"level_1",
    "enterId":0,
    "seed":1,
    "tileSet":"defs/tiles/tileset_tech.def",
    "doorEnts":"defs/objects/door_tech.def",
    "wallLights":"wall_light_tech",
    "music":"sounds/bgm/dungeon.wav",
    "levels":
    [
        {
            "name":"level_1",
            "color":[100,220,255,255],
            "light":
            {
                "color":[200,200,255,255],
                "position":[12,12,0,1],
                "ambientCoefficient":0.7,
                "attenuation":1,
                "brightness":1
            },
            "tilemap":
            {
                "size":[24,24]
            },
            "updateRate":60000,
            "wandering":
            {
                "conditions":
                [
                    {
                        "event":"lower_decks_security",
                        "value":"true",
                        "state":0
                    }
                ],
                "name":"monster_service_drone",
                "limit":2
            },
            "monsters":
            [
                {
                    "name":"monster_slime",
                    "amount":2,
                    "loot":"credits",
                    "count":5
                },
                {
                    "name":"monster_service_drone",
                    "amount":2
                }
            ],
            "treasures":
            [
                {
                    "name":"tech_chest",
                    "amount":1,
                    "loot":"credits",
                    "count":25
                }
            ],
            "exits":
            [
                {
                    "type":4,
                    "id":0,
                    "destination":"dungeon",
                    "dungeon":"defs/dungeons/colony_town.def",
                    "level":"town",
                    "toExit":2
                },
                {
                    "type":3,
                    "id":1,
                    "destination":"level",
                    "level":"level_2",
                    "toExit":0
                }
            ]
        },
        {
            "name":"level_2",
            "color":[100,255,100,255],
            "light":
            {
                "color":[200,255,200,255],
                "position":[12,12,0,1],
                "ambientCoefficient":0.7,
                "attenuation":1,
                "brightness":2
            },
            "tilemap":
            {
                "size":[35,35]
            },
            "updateRate":60000,
            "wandering":
            {
                "conditions":
                [
                    {
                        "event":"lower_decks_security",
                        "value":"true",
                        "state":0
                    }
                ],
                "name":"monster_service_drone",
                "limit":4
            },
            "monsters":
            [
                {
                    "name":"monster_slime",
                    "amount":3,
                    "loot":"healthbar",
                    "count":1
                },
                {
                    "name":"monster_red_slime",
                    "amount":1,
                    "loot":"yellow_key_card",
                    "count":1
                },
                {
                    "name":"monster_service_drone",
                    "amount":4,
                    "loot":"credits",
                    "count":5
                }
            ],
            "treasures":
            [
                {
                    "name":"tech_chest",
                    "amount":1,
                    "loot":"credits",
                    "count":50
                },
                {
                    "name":"tech_chest",
                    "amount":1,
                    "loot":"healthbar",
                    "count":3
                },
                {
                    "name":"tech_chest",
                    "amount":1,
                    "loot":"blaster1",
                    "count":1
                }
            ],
            "exits":
            [
                {
                    "type":4,
                    "id":0,
                    "destination":"level",
                    "level":"level_1",
                    "toExit":1
                },
                {
                    "type":3,
                    "id":1,
                    "destination":"level",
                    "level":"level_3",
                    "toExit":0
                }
            ]
        },
        {
            "name":"level_3",
            "color":[255,200,100,255],
            "light":
            {
                "color":[255,255,200,255],
                "position":[12,12,0,1],
                "ambientCoefficient":0.7,
                "attenuation":1,
                "brightness":2
            },
            "music":"sounds/bgm/dungeon1.wav",
            "prefab":1,
            "tilemap":
            {
                "tiles":
                [
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0],
                    [2,2,2,2,2,2,2,0,0,0,0,0,0,0,2,1,1,1,1,1,2,0,0,0],
                    [2,1,1,1,1,1,2,0,0,0,2,0,0,0,2,1,1,1,1,1,1,2,0,0],
                    [2,1,1,1,1,1,2,2,2,2,1,2,2,2,2,1,1,1,1,1,1,1,2,0],
                    [4,1,1,1,1,1,5,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,2],
                    [2,1,1,1,1,1,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,0],
                    [2,1,1,1,1,1,2,0,0,0,0,0,0,0,2,1,1,1,1,1,1,2,0,0],
                    [2,2,2,2,2,2,2,0,0,0,0,0,0,0,2,1,1,1,1,1,2,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "updateRate":60000,
            "spawns":
            [
                {
                    "entity":"door_tech",
                    "location":[6,4,0],
                    "rotation":90
                },
                {
                    "entity":"door_tech",
                    "location":[14,4,0],
                    "rotation":90
                },
                {
                    "entity":"monster_red_slime",
                    "location":[22,4,0],
                    "rotation":90
                },
                {
                    "entity":"terminal",
                    "location":[23,4,0],
                    "rotation":270,
                    "args":
                    {
                        "events":
                        [
                            {
                                "conditions":
                                [
                                    {
                                        "event":"lower_decks_security",
                                        "value":"true",
                                        "state":0
                                    },
                                    {
                                        "playerHas":"yellow_key_card",
                                        "count":1,
                                        "state":1
                                    }
                                ],
                                "displayName":"Security System",
                                "dialog":"You insert the yellow access card and access the security system.  You navigate to the drone controls and disable them."
                                "setEvent":
                                {
                                    "event":"lower_decks_security",
                                    "value":"true"
                                }
                            },
                            {
                                "conditions":
                                [
                                    {
                                        "event":"lower_decks_security",
                                        "value":"true",
                                        "state":0
                                    },
                                    {
                                        "playerHas":"yellow_key_card",
                                        "count":1,
                                        "state":0
                                    }
                                ],
                                "displayName":"Security System",
                                "dialog":"This is the security access terminal for the lower decks, but you do not have the access level needed: Yellow Access."
                            },
                            {
                                "conditions":
                                [
                                    {
                                        "event":"lower_decks_security",
                                        "value":"true",
                                        "state":1
                                    }
                                ],
                                "displayName":"Security System",
                                "dialog":"This is the security access terminal for the lower decks.  Security Drones have been disabled."
                            }
                        ]
                    }
                },
                {
                    "entity":"monster_slime",
                    "location":[21,3,0],
                    "rotation":90
                },
                {
                    "entity":"monster_slime",
                    "location":[21,5,0],
                    "rotation":90
                },
                {
                    "entity":"monster_service_drone",
                    "location":[7,4,0],
                    "rotation":0,
                    "args":
                    {
                        "loot":"healthbar",
                        "count":1,
                    }
                },
                {
                    "entity":"wall_light_tech",
                    "location":[0,3,0],
                    "rotation":90
                },
                {
                    "entity":"wall_light_tech",
                    "location":[6,3,0],
                    "rotation":-90
                },
                {
                    "entity":"wall_light_tech",
                    "location":[7,3,0],
                    "rotation":0
                },
                {
                    "entity":"wall_light_tech",
                    "location":[13,5,0],
                    "rotation":180
                },
                {
                    "entity":"wall_light_tech",
                    "location":[14,3,0],
                    "rotation":90
                },
                {
                    "entity":"wall_light_tech",
                    "location":[22,3,0],
                    "rotation":-90
                }
            ],
            "treasureRate":0.2,
            "exits":
            [
                {
                    "type":4,
                    "id":0,
                    "location":[0,4],
                    "destination":"level",
                    "level":"level_2",
                    "toExit":1
                }
            ]
        }
    ]
}
